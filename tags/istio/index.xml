<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>Istio - 標籤 - -小佑-（&lt;ゝω·）キラbosh☆</title><link>https://yuchia-wei.github.io/tags/istio/</link><description>Istio - 標籤 - -小佑-（&lt;ゝω·）キラbosh☆</description><generator>Hugo -- gohugo.io</generator><language>zh-TW</language><managingEditor>h42279@gmail.com (YuChia Wei)</managingEditor><webMaster>h42279@gmail.com (YuChia Wei)</webMaster><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Tue, 12 Apr 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://yuchia-wei.github.io/tags/istio/" rel="self" type="application/rss+xml"/><item><title>Istio 設定 http request header 來讓內部容器使用 https</title><link>https://yuchia-wei.github.io/2022/04/istio-%E8%A8%AD%E5%AE%9A-http-request-header-%E4%BE%86%E8%AE%93%E5%85%A7%E9%83%A8%E5%AE%B9%E5%99%A8%E4%BD%BF%E7%94%A8-https/</link><pubDate>Tue, 12 Apr 2022 00:00:00 +0000</pubDate><author><name>YuChia Wei</name></author><guid>https://yuchia-wei.github.io/2022/04/istio-%E8%A8%AD%E5%AE%9A-http-request-header-%E4%BE%86%E8%AE%93%E5%85%A7%E9%83%A8%E5%AE%B9%E5%99%A8%E4%BD%BF%E7%94%A8-https/</guid><description><![CDATA[<p>當網路架構在以下狀況時</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Client (get `https://my.domain.com`) -&gt; LB (A10) -&gt; Istio Ingress (TLS Terminating) -&gt; Service (http request schema is http)
</span></span></code></pre></td></tr></table>
</div>
</div><p>由於 Service 端收到的 Http Request 中的協定可能因為憑證管理的方式或其他原因，是會被 A10 或是 Istio Ingress 給過濾掉的。</p>
<p>在這種情況下，可能會導致定義在服務內的一些服務出現錯誤；我實務上碰到的案例是 OAuth OpenIdConnect 的 Redirect Url 在 .Net 6 裡面其實是無法強制複寫成 https 的，加上 A10 那端有被設定強轉，使用 http 的網址並不會通，這時候就會出現錯誤。</p>
<p>以下提供在 Istio 中的解決方式，文章末端也有一些我覺得可能有幫助的一些資料來源讓大家參考。</p>]]></description></item><item><title>Istio 附帶的 Plugin 安裝</title><link>https://yuchia-wei.github.io/2022/04/istio-%E9%99%84%E5%B8%B6%E7%9A%84-plugin-%E5%AE%89%E8%A3%9D/</link><pubDate>Sun, 10 Apr 2022 00:00:00 +0000</pubDate><author><name>YuChia Wei</name></author><guid>https://yuchia-wei.github.io/2022/04/istio-%E9%99%84%E5%B8%B6%E7%9A%84-plugin-%E5%AE%89%E8%A3%9D/</guid><description><![CDATA[<p>Istio 官方安裝套件附帶的套件安裝方式，包含各服務的 Istio Ingress Gateway 設定檔。</p>
<blockquote>
<p>更新時間：2022/04/10 調整標題與修正指令</p>
</blockquote>]]></description></item><item><title>Istio Sidecar Proxy 未啟動時服務無法連網問題處理</title><link>https://yuchia-wei.github.io/2022/03/istio-sidecar-proxy-%E6%9C%AA%E5%95%9F%E5%8B%95%E6%99%82%E6%9C%8D%E5%8B%99%E7%84%A1%E6%B3%95%E9%80%A3%E7%B6%B2%E5%95%8F%E9%A1%8C%E8%99%95%E7%90%86/</link><pubDate>Wed, 30 Mar 2022 21:29:06 +0800</pubDate><author><name>YuChia Wei</name></author><guid>https://yuchia-wei.github.io/2022/03/istio-sidecar-proxy-%E6%9C%AA%E5%95%9F%E5%8B%95%E6%99%82%E6%9C%8D%E5%8B%99%E7%84%A1%E6%B3%95%E9%80%A3%E7%B6%B2%E5%95%8F%E9%A1%8C%E8%99%95%E7%90%86/</guid><description>&lt;p>前段時間在工作上碰到服務部署後沒辦法連上網路，但是容器重啟後就一切正常。&lt;/p>
&lt;p>在查過資料後發現原來是因為 Istio Sidecar Proxy 尚未完成啟動時，後面的服務會無法連上網路的問題，這篇記錄解決辦法。&lt;/p></description></item><item><title>Istio Install - Use Helm</title><link>https://yuchia-wei.github.io/2022/02/istio-install-use-helm/</link><pubDate>Tue, 01 Feb 2022 15:23:56 +0800</pubDate><author><name>YuChia Wei</name></author><guid>https://yuchia-wei.github.io/2022/02/istio-install-use-helm/</guid><description>&lt;p>使用 Helm 安裝 Istio&lt;/p></description></item><item><title>Istio Install - Use istioctl</title><link>https://yuchia-wei.github.io/2022/02/istio-install-use-istioctl/</link><pubDate>Tue, 01 Feb 2022 15:23:56 +0800</pubDate><author><name>YuChia Wei</name></author><guid>https://yuchia-wei.github.io/2022/02/istio-install-use-istioctl/</guid><description>&lt;p>使用 Istio 官方 CLI (istioctl) 安裝 Istio&lt;/p></description></item><item><title>Kubernetes Overloading</title><link>https://yuchia-wei.github.io/2022/02/kubernetes-overloading/</link><pubDate>Tue, 01 Feb 2022 15:23:56 +0800</pubDate><author><name>YuChia Wei</name></author><guid>https://yuchia-wei.github.io/2022/02/kubernetes-overloading/</guid><description>&lt;p>Kubernetes Node 的負載相關筆記&lt;/p></description></item></channel></rss>