<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>-小佑-（&lt;ゝω·）キラbosh☆</title><link>https://yuchia-wei.github.io/</link><description>（&lt;ゝω·）キラbosh☆</description><generator>Hugo -- gohugo.io</generator><language>zh-TW</language><managingEditor>h42279@gmail.com (YuChia Wei)</managingEditor><webMaster>h42279@gmail.com (YuChia Wei)</webMaster><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Sun, 26 Feb 2023 14:00:00 +0800</lastBuildDate><atom:link href="https://yuchia-wei.github.io/index.xml" rel="self" type="application/rss+xml"/><item><title>使用 k3d 快速建立本機 Kubernetes (k3s) 叢集以用於測試與開發</title><link>https://yuchia-wei.github.io/2023/02/use-k3d-to-create-k3s/</link><pubDate>Sun, 26 Feb 2023 14:00:00 +0800</pubDate><author><name>YuChia Wei</name></author><guid>https://yuchia-wei.github.io/2023/02/use-k3d-to-create-k3s/</guid><description>&lt;p>本文紀錄在本機使用 k3d CLI 快速使用 k3s 建立 kubernetes 叢集的方法&lt;/p></description></item><item><title>在 dockerfile 內使用 alpine 的 dotnet sdk image 建置 dotnet 服務</title><link>https://yuchia-wei.github.io/2023/02/use-dotnet-sdk-alpine-in-docker-file/</link><pubDate>Sun, 26 Feb 2023 13:35:00 +0800</pubDate><author><name>YuChia Wei</name></author><guid>https://yuchia-wei.github.io/2023/02/use-dotnet-sdk-alpine-in-docker-file/</guid><description>在 dockerfile 內使用 alpine 的 dotnet sdk image 建置 dotnet 服務</description></item><item><title>Kubernetes 環境準備 - ubuntu &amp; containerd</title><link>https://yuchia-wei.github.io/2022/09/kubernetes-node-prepare-for-ubuntu-with-containerd/</link><pubDate>Fri, 16 Sep 2022 23:00:00 +0800</pubDate><author><name>YuChia Wei</name></author><guid>https://yuchia-wei.github.io/2022/09/kubernetes-node-prepare-for-ubuntu-with-containerd/</guid><description><![CDATA[<p>定期更新版 kubernetes 安裝筆記</p>
<div class="details admonition info open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-info-circle fa-fw"></i>信息<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>K8s:</td>
<td>v1.25.1</td>
</tr>
<tr>
<td>OS:</td>
<td>ubuntu server 20.04 LTS</td>
</tr>
<tr>
<td>cri:</td>
<td>containerd 1.6.8</td>
</tr>
<tr>
<td>Update Time</td>
<td>2022/09/17</td>
</tr>
</tbody>
</table>
</div>
        </div>
    </div>]]></description></item><item><title>Kubernetes 環境準備 - centos7 &amp; containerd</title><link>https://yuchia-wei.github.io/2022/09/kubernetes-node-prepare-for-centos7-with-containerd/</link><pubDate>Tue, 13 Sep 2022 23:00:00 +0800</pubDate><author><name>YuChia Wei</name></author><guid>https://yuchia-wei.github.io/2022/09/kubernetes-node-prepare-for-centos7-with-containerd/</guid><description><![CDATA[<p>定期更新版 kubernetes 安裝筆記</p>
<div class="details admonition info open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-info-circle fa-fw"></i>信息<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>K8s:</td>
<td>v1.25.0</td>
</tr>
<tr>
<td>OS:</td>
<td>CentOs 7 (kernel = 3.10.1)</td>
</tr>
<tr>
<td>cri:</td>
<td>containerd 1.6.8-3.1.el7</td>
</tr>
<tr>
<td>Update Time</td>
<td>2022/09/14</td>
</tr>
</tbody>
</table>
</div>
        </div>
    </div>]]></description></item><item><title>Kubernetes 環境準備 - centos7 &amp; docker</title><link>https://yuchia-wei.github.io/2022/09/kubernetes-node-prepare-for-centos7-with-docker/</link><pubDate>Tue, 13 Sep 2022 21:11:00 +0800</pubDate><author><name>YuChia Wei</name></author><guid>https://yuchia-wei.github.io/2022/09/kubernetes-node-prepare-for-centos7-with-docker/</guid><description><![CDATA[<p>定期更新版 kubernetes 安裝筆記</p>
<div class="details admonition info open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-info-circle fa-fw"></i>信息<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>K8s:</td>
<td>v1.25.0</td>
</tr>
<tr>
<td>OS:</td>
<td>CentOs 7 (kernel = 3.10.1)</td>
</tr>
<tr>
<td>cri:</td>
<td>docker 20.10.18</td>
</tr>
<tr>
<td>Update Time</td>
<td>2022/09/12</td>
</tr>
</tbody>
</table>
</div>
        </div>
    </div>]]></description></item><item><title>.net in ubuntu</title><link>https://yuchia-wei.github.io/2022/08/.net-in-ubuntu/</link><pubDate>Wed, 17 Aug 2022 21:09:00 +0800</pubDate><author><name>YuChia Wei</name></author><guid>https://yuchia-wei.github.io/2022/08/.net-in-ubuntu/</guid><description>&lt;p>Ubuntu 22.04 直接支援 .net 6 了!!!&lt;/p></description></item><item><title>2022-06-14 的 argocd 與 istio 版本更新筆記</title><link>https://yuchia-wei.github.io/2022/06/2022-06-14-%E7%9A%84-argocd-%E8%88%87-istio-%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0%E7%AD%86%E8%A8%98/</link><pubDate>Tue, 14 Jun 2022 23:30:00 +0800</pubDate><author><name>YuChia Wei</name></author><guid>https://yuchia-wei.github.io/2022/06/2022-06-14-%E7%9A%84-argocd-%E8%88%87-istio-%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0%E7%AD%86%E8%A8%98/</guid><description><![CDATA[<p>稍微整理記錄一下這時間點有使用的服務版本與更新內容</p>
<ul>
<li>ArgoCD 2.4</li>
<li>Istio 1.14</li>
</ul>]]></description></item><item><title>Kubernetes 1.24 版本環境設定重點</title><link>https://yuchia-wei.github.io/2022/06/kubernetes-1.24-%E7%89%88%E6%9C%AC%E7%92%B0%E5%A2%83%E8%A8%AD%E5%AE%9A%E9%87%8D%E9%BB%9E/</link><pubDate>Sat, 11 Jun 2022 00:00:00 +0000</pubDate><author><name>YuChia Wei</name></author><guid>https://yuchia-wei.github.io/2022/06/kubernetes-1.24-%E7%89%88%E6%9C%AC%E7%92%B0%E5%A2%83%E8%A8%AD%E5%AE%9A%E9%87%8D%E9%BB%9E/</guid><description><![CDATA[<p>由於 kubernetes 在 1.24 版之後已不預設支援 Docker ( <a href="https://kubernetes.io/blog/2022/05/03/kubernetes-1-24-release-announcement/#major-themes" target="_blank" rel="noopener noreferrer">kubernetes 1.24 release page</a> )，所以照原本的安裝方式的話，在建立叢集時會出現錯誤。</p>
<p>但是因為原本的作法在安裝 Docker 時已經有安裝其他 kubernetes 有支援的容器套件 containerd，所以這篇主要紀錄如何去設定 containerd 來作為 Docker 的替代品，並紀錄一些跟原先的安裝參數不一樣的地方。</p>
<p>相關內容已更新至 <a href="./Part1-NodeEnv.md" rel="">Kubernetes 安裝筆記 part.1 : 環境準備</a>~</p>
<div class="details admonition info open">
        <div class="details-summary admonition-title">
            <i class="icon fas fa-info-circle fa-fw"></i>信息<i class="details-icon fas fa-angle-right fa-fw"></i>
        </div>
        <div class="details-content">
            <div class="admonition-content"><table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>OS:</td>
<td>CentOs 7 (kernel = 3.10.1)</td>
</tr>
<tr>
<td>K8s:</td>
<td>v1.24.1 (新安裝時預設使用當下的最新版，因此此版本資訊參考用)</td>
</tr>
</tbody>
</table>
</div>
        </div>
    </div>]]></description></item><item><title>ArgoCD install use kustomizaion</title><link>https://yuchia-wei.github.io/2022/05/argocd-install/</link><pubDate>Tue, 31 May 2022 00:00:00 +0000</pubDate><author><name>YuChia Wei</name></author><guid>https://yuchia-wei.github.io/2022/05/argocd-install/</guid><description><![CDATA[<p>使用 kustomization 安裝 ArgoCD，並且利用 patch 來加入 istio 所需要的 Label。</p>
<p>此篇文所使用的安裝設定檔連結：<a href="https://github.com/YuChia-Wei/argoproj-deploy" target="_blank" rel="noopener noreferrer">Github</a></p>]]></description></item><item><title>Istio 設定 http request header 來讓內部容器使用 https</title><link>https://yuchia-wei.github.io/2022/04/istio-%E8%A8%AD%E5%AE%9A-http-request-header-%E4%BE%86%E8%AE%93%E5%85%A7%E9%83%A8%E5%AE%B9%E5%99%A8%E4%BD%BF%E7%94%A8-https/</link><pubDate>Tue, 12 Apr 2022 00:00:00 +0000</pubDate><author><name>YuChia Wei</name></author><guid>https://yuchia-wei.github.io/2022/04/istio-%E8%A8%AD%E5%AE%9A-http-request-header-%E4%BE%86%E8%AE%93%E5%85%A7%E9%83%A8%E5%AE%B9%E5%99%A8%E4%BD%BF%E7%94%A8-https/</guid><description><![CDATA[<p>當網路架構在以下狀況時</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Client (get `https://my.domain.com`) -&gt; LB (A10) -&gt; Istio Ingress (TLS Terminating) -&gt; Service (http request schema is http)
</span></span></code></pre></td></tr></table>
</div>
</div><p>由於 Service 端收到的 Http Request 中的協定可能因為憑證管理的方式或其他原因，是會被 A10 或是 Istio Ingress 給過濾掉的。</p>
<p>在這種情況下，可能會導致定義在服務內的一些服務出現錯誤；我實務上碰到的案例是 OAuth OpenIdConnect 的 Redirect Url 在 .Net 6 裡面其實是無法強制複寫成 https 的，加上 A10 那端有被設定強轉，使用 http 的網址並不會通，這時候就會出現錯誤。</p>
<p>以下提供在 Istio 中的解決方式，文章末端也有一些我覺得可能有幫助的一些資料來源讓大家參考。</p>]]></description></item></channel></rss>